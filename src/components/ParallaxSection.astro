---
// Componente de sección parallax con imagen local
---

<section class="relative h-[60vh] sm:h-[80vh] md:h-screen flex items-center justify-center overflow-hidden">
  <!-- Parallax Background Container -->
  <div class="absolute inset-0 overflow-hidden">
    <div class="parallax-bg absolute inset-0 bg-cover bg-center bg-no-repeat" 
         style="background-image: url('/parallax.webp'); height: 120vh sm:150vh; top: -10vh sm:-25vh;">
      <div class="absolute inset-0 bg-gradient-to-b from-black/70 via-black/60 to-black/80"></div>
    </div>
  </div>

  <!-- Content -->
  <div class="relative z-10 max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-white">
    <div class="space-y-4 sm:space-y-6 animate-fade-in">
      <div class="inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm px-3 py-1.5 sm:px-4 sm:py-2 text-xs font-semibold tracking-widest uppercase border border-white/20">
        <span class="material-symbols-outlined text-sm">architecture</span>
        <span class="hidden sm:inline">Excelencia Arquitectónica</span>
        <span class="sm:hidden">Excelencia</span>
      </div>
      
      <h2 class="text-2xl sm:text-3xl md:text-4xl lg:text-6xl font-bold leading-tight">
        <span class="block">Diseñamos Espacios</span>
        <span class="block mt-1 sm:mt-2">que Inspiran y Transforman</span>
      </h2>
      
      <p class="text-sm sm:text-base md:text-lg text-gray-200 max-w-2xl sm:max-w-3xl mx-auto">
        Más de 8 años de experiencia creando arquitectura excepcional en Guatemala. 
        <span class="hidden sm:inline">Cada proyecto es una fusión perfecta entre innovación, funcionalidad y estética.</span>
      </p>

      <div class="flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center pt-4 sm:pt-6">
        <a href="/proyectos" class="inline-flex items-center justify-center gap-2 bg-white text-gray-900 px-6 py-3 sm:px-8 sm:py-4 rounded-lg font-semibold hover:bg-gray-100 transition-all duration-300 transform hover:scale-105 text-sm sm:text-base">
          <span>Explorar Proyectos</span>
          <span class="material-symbols-outlined text-lg">arrow_forward</span>
        </a>
        <a href="/contacto" class="inline-flex items-center justify-center gap-2 border-2 border-white text-white px-6 py-3 sm:px-8 sm:py-4 rounded-lg font-semibold hover:bg-white hover:text-gray-900 transition-all duration-300 text-sm sm:text-base">
          <span>Iniciar Proyecto</span>
          <span class="material-symbols-outlined text-lg">mail</span>
        </a>
      </div>
    </div>
  </div>

  <!-- Scroll Indicator - Solo en desktop -->
  <div class="hidden sm:block absolute bottom-8 left-1/2 transform -translate-x-1/2 text-white animate-bounce">
    <span class="material-symbols-outlined text-3xl">keyboard_arrow_down</span>
  </div>
</section>

<style>
  .parallax-bg {
    will-change: transform;
    transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }
  
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .animate-fade-in {
    animation: fade-in 1s ease-out;
  }
</style>

<script>
  // Efecto parallax optimizado para móvil y desktop
  let ticking = false;
  
  // Detectar si es dispositivo móvil
  function isMobile() {
    return window.innerWidth < 768;
  }
  
  function updateParallax() {
    const scrolled = window.pageYOffset;
    const parallaxElements = document.querySelectorAll('.parallax-bg');
    
    parallaxElements.forEach(element => {
      // Deshabilitar parallax en móviles para mejor rendimiento
      if (isMobile()) {
        element.style.transform = 'translateY(0)';
        return;
      }
      
      const speed = 0.2; // Más sutil para mejor experiencia
      const maxOffset = 150; // Límite reducido
      let yPos = -(scrolled * speed);
      
      // Limitar el movimiento para no perder el fondo oscuro
      if (Math.abs(yPos) > maxOffset) {
        yPos = yPos > 0 ? maxOffset : -maxOffset;
      }
      
      element.style.transform = `translateY(${yPos}px)`;
    });
    
    ticking = false;
  }
  
  function requestTick() {
    if (!ticking) {
      window.requestAnimationFrame(updateParallax);
      ticking = true;
    }
  }
  
  // Inicializar parallax
  updateParallax();
  
  // Event listener con throttling para mejor rendimiento
  let scrollTimeout;
  window.addEventListener('scroll', () => {
    if (scrollTimeout) {
      window.cancelAnimationFrame(scrollTimeout);
    }
    scrollTimeout = window.requestAnimationFrame(requestTick);
  });
  
  // Actualizar al cambiar el tamaño de ventana
  window.addEventListener('resize', updateParallax);
</script>
